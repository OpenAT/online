<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <!-- PRODUCT PAGE TEMPLATE: ppt_ahch -->
        <template id="ppt_ahch" name="Product Page AHCH Layout">
            <t t-call="website.layout">
                <t t-set="additional_title" t-value="product.name"/>
                <div itemscope="itemscope" itemtype="http://schema.org/Product" id="wrap" class="js_sale ppt_ahch">

                    <!-- Main Section with optional parallax bg-image -->
                    <section id="website_sale_donate"
                             t-att-class="'parallax oe_img_bg' if product.parallax_image else ''"
                             t-att-style="'background-image: url(' + website.image_url(product, 'parallax_image') + ');' if product.parallax_image else 'None'"
                             t-att-data-scroll-background-offset="'0.6' if product.parallax_speed == 'slow' else 0"
                             data-scroll-background-ratio="0">
                        <div class="row">
                            <div class="col-sm-16">
                                <section t-attf-class="container mt8 oe_website_sale #{(compute_currency(product.lst_price) - product.price) &gt; 0.1 and 'discount'}" id="product_detail">

                                    <!-- Categories, Search and Publish-Button Bar -->
                                    <t t-call="website_sale_donate.categories_search_publish"/>

                                   <!-- Warnings Box -->
                                    <t t-call="website_sale_donate.warningsbox"/>

                                    <!-- Main Product Page Content (Description Field and Checkoutbox) -->
                                    <div class="row">
                                        <!-- (Left) Left HTML Description Field -->
                                        <div class="col-sm-7 col-md-7 col-lg-6">
                                            <h1 itemprop="name" t-field="product.name">Product Name</h1>
                                            <div t-field="product.description_sale" class="oe_structure" id="product_desc_short"/>
                                            <br/>
                                            <div id="product_data" class="oe_structure">
                                                <!-- HINT: Only show Code if no variants available -->
                                                <t t-if="product.default_code and len(product.product_variant_ids) == 1">
                                                    <div class="field_label">Order Number:</div>
                                                    <div t-field="product.default_code"/>
                                                </t>
                                                <t t-if="product.format">
                                                    <div class="field_label">Format:</div>
                                                    <div t-field="product.format"/>
                                                </t>
                                                <!-- Download Info -->
                                                <t t-set="has_download_file" t-value="True if product.webshop_download_file else False"/>
                                                <t t-if="len(product.product_variant_ids) > 1">
                                                    <t t-foreach="product.product_variant_ids" t-as="variant_id">
                                                        <t t-if="variant_id.webshop_download_file">
                                                            <t t-set="has_download_file" t-value="True"/>
                                                        </t>
                                                    </t>
                                                </t>
                                                <t t-if="product.type == 'service' and has_download_file">
                                                    <br/>
                                                    <div class="product_download_info alert alert-success">
                                                        You can download this item right after the checkout process!
                                                    </div>
                                                </t>
                                            </div>
                                        </div>
                                        <!-- (Right) CHECKOUTBOX (Add to Cart Box) -->
                                        <div class="col-sm-5 col-md-5 col-lg-5 col-lg-offset-1" id="wsd-checkout-box">
                                            <t t-call="website_sale_donate.checkoutbox">
                                                <!-- Configure the Checkoutbox Subtemplate -->
                                                <t t-set="hide_name" t-value="True"/>
                                                <t t-set="hide_image" t-value="product.hide_image"/>
                                                <t t-set="hide_salesdesc" t-value="product.hide_salesdesc"/>
                                                <t t-set="hide_fundingtextincp" t-value="product.hide_fundingtextincp"/>
                                                <t t-set="hide_fundingbarincp" t-value="product.hide_fundingbarincp"/>
                                                <t t-set="hide_panelfooter" t-value="product.hide_panelfooter"/>
                                                <t t-set="show_small_cart_in_checkoutbox" t-value="False"/>
                                            </t>
                                        </div>
                                    </div>

                                </section>
                            </div>
                        </div>
                    </section>

                    <!-- Footer Section (without parallax image) -->
                    <section>
                        <div class="row">
                            <!-- Footer HTML Description Field -->
                            <div itemprop="description" t-field="product.website_description" class="oe_structure" id="product_full_description"/>
                        </div>
                    </section>

                </div>
            </t>
        </template>


        <!-- ======================================= -->
        <!-- PRODUCT PAGE TEMPLATE OPTIONS: ppt_ahch -->
        <!-- ======================================= -->

        <!-- INHERIT PRODUCT PAGE TEMPLATE (PPT) ppt_ahch: show shopping cart in checkoutbox -->
        <template id="ppt_ahch_checkoutbox_small_cart" inherit_id="website_sale_donate.ppt_ahch" name="Show Cart in Checkoutbox" customize_show="True" active="False">
            <xpath expr="//t[@t-set='show_small_cart_in_checkoutbox']" position="attributes">
                <attribute name="t-value">True</attribute>
            </xpath>
        </template>

        <!-- INHERIT PRODUCT PAGE TEMPLATE (PPT) ppt_ahch: show shopping cart in right column below checkoutbox -->
        <template id="ppt_ahch_small_cart_right" inherit_id="website_sale_donate.ppt_ahch" name="Show Cart in Right-Column" customize_show="True" active="False">
            <xpath expr="//t[@t-call='website_sale_donate.checkoutbox']" position="after">
                <t t-call="website_sale_donate.checkoutbox_small_cart"/>
            </xpath>
        </template>

        <!-- INHERIT PRODUCT PAGE TEMPLATE (PPT) ppt_ahch: show shopping cart below checkoutbox full width -->
        <template id="ppt_ahch_small_cart_full" inherit_id="website_sale_donate.ppt_ahch" name="Show Cart" customize_show="True" active="False">
            <xpath expr="//div[@id='wsd-checkout-box']" position="after">
                <div class="col-sm-16">
                    <t t-call="website_sale_donate.checkoutbox_small_cart"/>
                </div>
            </xpath>
        </template>

        <!-- INHERIT PRODUCT PAGE TEMPLATE (PPT) ppt_ahch: show recommended_products -->
        <template id="ppt_ahch_recommended_products" inherit_id="website_sale_donate.ppt_ahch" name="Recommended Products" customize_show="True" active="False">
            <xpath expr="//div[@t-field='product.website_description']" position="after">
                <t t-call="website_sale_donate.recommended_products"/>
            </xpath>
        </template>

        <!-- INHERIT PRODUCT PAGE TEMPLATE (PPT) ppt_ahch: show product_comment -->
        <template id="ppt_ahch_product_comment" inherit_id="website_sale_donate.ppt_ahch" name="Discussion" customize_show="True" active="False">
            <xpath expr="//div[@t-field='product.website_description']" position="after">
                <t t-call="website_sale_donate.product_comment"/>
            </xpath>
        </template>

    </data>
</openerp>
